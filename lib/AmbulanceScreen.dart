import 'package:flutter/material.dart';
import 'package:flutter_svg/flutter_svg.dart'; // Add flutter_svg package to your pubspec.yaml
import 'package:flutter_tts/flutter_tts.dart';

const String ambulance = '''
<svg width="115" height="115" viewBox="0 0 115 115" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M50.2487 45.4631H45.4631V40.6775C45.4631 39.4083 44.9589 38.1911 44.0615 37.2936C43.164 36.3961 41.9468 35.892 40.6776 35.892C39.4083 35.892 38.1911 36.3961 37.2936 37.2936C36.3962 38.1911 35.892 39.4083 35.892 40.6775V45.4631H31.1064C29.8371 45.4631 28.6199 45.9673 27.7224 46.8648C26.825 47.7623 26.3208 48.9795 26.3208 50.2487C26.3208 51.518 26.825 52.7352 27.7224 53.6327C28.6199 54.5301 29.8371 55.0343 31.1064 55.0343H35.892V59.8199C35.892 61.0891 36.3962 62.3064 37.2936 63.2038C38.1911 64.1013 39.4083 64.6055 40.6776 64.6055C41.9468 64.6055 43.164 64.1013 44.0615 63.2038C44.9589 62.3064 45.4631 61.0891 45.4631 59.8199V55.0343H50.2487C51.518 55.0343 52.7352 54.5301 53.6327 53.6327C54.5301 52.7352 55.0343 51.518 55.0343 50.2487C55.0343 48.9795 54.5301 47.7623 53.6327 46.8648C52.7352 45.9673 51.518 45.4631 50.2487 45.4631ZM109.734 55.7522L109.447 55.2257C109.364 54.989 109.252 54.7638 109.112 54.5558L97.6261 39.2419C96.2888 37.4588 94.5548 36.0116 92.5612 35.0148C90.5677 34.0181 88.3695 33.4992 86.1407 33.4992H76.5695V28.7136C76.5695 24.9059 75.0569 21.2542 72.3645 18.5618C69.6721 15.8694 66.0204 14.3568 62.2127 14.3568H19.1424C15.3347 14.3568 11.683 15.8694 8.9906 18.5618C6.29818 21.2542 4.78559 24.9059 4.78559 28.7136V81.3551C4.78559 82.6243 5.28979 83.8415 6.18726 84.739C7.08473 85.6365 8.30197 86.1407 9.57119 86.1407H14.3568C14.3568 89.9483 15.8694 93.6 18.5618 96.2925C21.2542 98.9849 24.9059 100.497 28.7136 100.497C32.5212 100.497 36.1729 98.9849 38.8653 96.2925C41.5578 93.6 43.0703 89.9483 43.0703 86.1407H71.7839C71.7839 89.9483 73.2965 93.6 75.9889 96.2925C78.6813 98.9849 82.333 100.497 86.1407 100.497C89.9483 100.497 93.6001 98.9849 96.2925 96.2925C98.9849 93.6 100.497 89.9483 100.497 86.1407H105.283C106.552 86.1407 107.77 85.6365 108.667 84.739C109.564 83.8415 110.069 82.6243 110.069 81.3551V57.4271C110.058 56.8532 109.945 56.2859 109.734 55.7522ZM28.7136 90.9263C27.7671 90.9263 26.8418 90.6456 26.0548 90.1198C25.2678 89.5939 24.6545 88.8465 24.2922 87.972C23.93 87.0976 23.8353 86.1354 24.0199 85.2071C24.2046 84.2787 24.6604 83.426 25.3296 82.7568C25.9989 82.0875 26.8516 81.6317 27.7799 81.447C28.7083 81.2624 29.6705 81.3572 30.5449 81.7194C31.4194 82.0816 32.1668 82.695 32.6926 83.4819C33.2185 84.2689 33.4992 85.1942 33.4992 86.1407C33.4992 87.4099 32.995 88.6271 32.0975 89.5246C31.2 90.4221 29.9828 90.9263 28.7136 90.9263ZM66.9983 76.5695H39.3376C37.992 75.0891 36.3518 73.9062 34.5222 73.0967C32.6927 72.2873 30.7142 71.8692 28.7136 71.8692C26.713 71.8692 24.7344 72.2873 22.9049 73.0967C21.0753 73.9062 19.4352 75.0891 18.0895 76.5695H14.3568V28.7136C14.3568 27.4443 14.861 26.2271 15.7584 25.3296C16.6559 24.4322 17.8732 23.928 19.1424 23.928H62.2127C63.4819 23.928 64.6992 24.4322 65.5966 25.3296C66.4941 26.2271 66.9983 27.4443 66.9983 28.7136V76.5695ZM76.5695 43.0703H86.1407C86.8836 43.0703 87.6164 43.2433 88.2809 43.5756C88.9454 43.9078 89.5234 44.3902 89.9692 44.9846L95.7119 52.6415H76.5695V43.0703ZM86.1407 90.9263C85.1942 90.9263 84.269 90.6456 83.482 90.1198C82.695 89.5939 82.0816 88.8465 81.7194 87.972C81.3572 87.0976 81.2624 86.1354 81.4471 85.2071C81.6317 84.2787 82.0875 83.426 82.7568 82.7568C83.426 82.0875 84.2788 81.6317 85.2071 81.447C86.1354 81.2624 87.0976 81.3572 87.9721 81.7194C88.8465 82.0816 89.5939 82.695 90.1198 83.4819C90.6456 84.2689 90.9263 85.1942 90.9263 86.1407C90.9263 87.4099 90.4221 88.6271 89.5246 89.5246C88.6272 90.4221 87.4099 90.9263 86.1407 90.9263ZM100.497 76.5695H96.7647C94.2182 73.7654 90.6667 72.0812 86.8839 71.884C83.1012 71.6868 79.3938 72.9925 76.5695 75.5167V62.2127H100.497V76.5695Z" fill="white"/>
</svg>

''';

class AmbulanceScreen extends StatefulWidget {
  const AmbulanceScreen({Key? key}) : super(key: key);

  @override
  _AmbulanceScreen createState() => _AmbulanceScreen();
}

class _AmbulanceScreen extends State<AmbulanceScreen> {
  final FlutterTts flutterTts = FlutterTts();

  Future<void> _speak(String message) async {
    await flutterTts.setLanguage("es-ES");
    await flutterTts.setPitch(1.0);
    await flutterTts.speak(message);
  }

  @override
  void initState() {
    super.initState();
    _speak("Llamando, llamando");
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Color.fromARGB(
          255, 109, 85, 245), // Adjust the color to match your design
      body: SafeArea(
        child: Center(
          // Use Center to align the column to the middle of the screen
          child: Column(
            mainAxisSize: MainAxisSize
                .min, // Limit the size of the column to its children size
            children: [
              Text(
                'Llamando a Emergencias',
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 24,
                  fontWeight: FontWeight.bold,
                ),
              ),
              SizedBox(height: 10),
              Text(
                '+911',
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 18,
                ),
              ),
              SizedBox(height: 20),
              SvgPicture.string(ambulance,
                  height: 100, width: 100), // Your SVG icon
              SizedBox(height: 150),

              Container(
                width: 86, // Set the size of the button
                height: 86, // Set the size of the button
                child: ElevatedButton(
                  //backgroundColor: Colors.red,
                  onPressed: () {
                    _speak("cancelar llamada");
                    Navigator.pop(context);
                  },
                  child: Icon(
                    Icons.call,
                    size: 38,
                    color: Colors.white,
                  ), // Increase the size of the icon
                  style: ElevatedButton.styleFrom(backgroundColor: Colors.red),
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
}
